<?xml version="1.0" encoding="UTF-8"?>
<sourceCode xmlns="http://org.ietr.preesm.sourceCode">
    <coreType>x86</coreType>
    <coreName>PC</coreName>
    <SourceFile>
        <bufferContainer>
            <bufferAllocation name="virtual_heap" size="22" type="char"/>
            <subBufferAllocation index="9" name="outVect_vectorIn"
                parentBuffer="virtual_heap" size="3" type="char"/>
            <subBufferAllocation index="0" name="outMat_matrixIn"
                parentBuffer="virtual_heap" size="9" type="char"/>
            <subBufferAllocation index="12" name="vectorOut_inResult"
                parentBuffer="virtual_heap" size="0" type="char"/>
        </bufferContainer>
        <threadDeclaration name="computationThread">
            <bufferContainer>
                <variableAllocation name="i" type="long"/>
                <variableAllocation name="j" type="long"/>
            </bufferContainer>
            <linearCodeContainer/>
            <forLoop>
                <userFunctionCall name="generateMatrix">
                    <subBuffer index="0" name="outMat_matrixIn"
                        parentBuffer="virtual_heap" size="9"/>
                    <constant name="size" type="int" value="9"/>
                </userFunctionCall>
                <userFunctionCall name="generateVect">
                    <subBuffer index="9" name="outVect_vectorIn"
                        parentBuffer="virtual_heap" size="3"/>
                    <constant name="size" type="int" value="3"/>
                </userFunctionCall>
                <CompoundCode name="ProdMatVect">
                    <subBufferAllocation index="15"
                        name="outLoopPort_0_inLo_0"
                        parentBuffer="virtual_heap" size="0" type="char"/>
                    <userFunctionCall name="init_inLoopPort_0">
                        <subBuffer index="15"
                            name="outLoopPort_0_inLo_0"
                            parentBuffer="virtual_heap" size="0"/>
                        <constant name="init_size" type="int" value="3"/>
                    </userFunctionCall>
                    <finiteForLoop domain="3" index="i">
                        <CompoundCode name="cluster_0">
                            <subBufferAllocation index="((i*3)%9)"
                                name="outSub_i_outMat_ma_0"
                                parentBuffer="outMat_matrixIn" size="3" type="char"/>
                            <subBufferAllocation index="((i*1)%3)"
                                name="outSub_i_outVect_v_0"
                                parentBuffer="outVect_vectorIn" size="1" type="char"/>
                            <subBufferAllocation index="18"
                                name="vectorOut_in"
                                parentBuffer="virtual_heap" size="3" type="char"/>
                            <CompoundCode name="prodScalVect">
                                <finiteForLoop domain="3" index="j">
                                    <CompoundCode name="productScal">
                                    <subBufferAllocation
                                    index="((j*1)%3)"
                                    name="inSub_j_vectorOut__0"
                                    parentBuffer="vectorOut_in"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%3)"
                                    name="outSub_j_outSub_i__0"
                                    parentBuffer="outSub_i_outMat_ma_0"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%3)"
                                    name="outSub_j_outLoopPo_0"
                                    parentBuffer="outLoopPort_0_inLo_0"
                                    size="1" type="char"/>
                                    <subBufferAllocation index="21"
                                    name="res_op1"
                                    parentBuffer="virtual_heap"
                                    size="1" type="char"/>
                                    <userFunctionCall name="mult">
                                    <subBuffer index="((j*1)%3)"
                                    name="outSub_j_outSub_i__0"
                                    parentBuffer="outSub_i_outMat_ma_0" size="1"/>
                                    <subBuffer index="((i*1)%3)"
                                    name="outSub_i_outVect_v_0"
                                    parentBuffer="outVect_vectorIn" size="1"/>
                                    <subBuffer index="21"
                                    name="res_op1"
                                    parentBuffer="virtual_heap" size="1"/>
                                    </userFunctionCall>
                                    <userFunctionCall name="add">
                                    <subBuffer index="21"
                                    name="res_op1"
                                    parentBuffer="virtual_heap" size="1"/>
                                    <subBuffer index="((j*1)%3)"
                                    name="outSub_j_outLoopPo_0"
                                    parentBuffer="outLoopPort_0_inLo_0" size="1"/>
                                    <subBuffer index="((j*1)%3)"
                                    name="inSub_j_vectorOut__0"
                                    parentBuffer="vectorOut_in" size="1"/>
                                    </userFunctionCall>
                                    </CompoundCode>
                                </finiteForLoop>
                            </CompoundCode>
                            <CompoundCode name="broadcastVertex">
                                <Assignment var="outLoopPort_0_inLo_0">&amp;vectorOut_in[0]</Assignment>
                                <Assignment var="vectorOut_inResult">&amp;vectorOut_in[0]</Assignment>
                            </CompoundCode>
                        </CompoundCode>
                    </finiteForLoop>
                </CompoundCode>
                <userFunctionCall name="display">
                    <subBuffer index="12" name="vectorOut_inResult"
                        parentBuffer="virtual_heap" size="0"/>
                    <constant name="size" type="int" value="3"/>
                </userFunctionCall>
            </forLoop>
            <linearCodeContainer/>
        </threadDeclaration>
    </SourceFile>
</sourceCode>
