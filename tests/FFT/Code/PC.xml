<?xml version="1.0" encoding="UTF-8"?>
<sourceCode xmlns="http://org.ietr.preesm.sourceCode">
    <coreType>x86</coreType>
    <coreName>PC</coreName>
    <SourceFile>
        <bufferContainer>
            <bufferAllocation name="virtual_heap" size="113" type="char"/>
            <subBufferAllocation index="0" name="dataOut_timeData"
                parentBuffer="virtual_heap" size="16" type="char"/>
            <subBufferAllocation index="16" name="fftData_dataIn"
                parentBuffer="virtual_heap" size="0" type="char"/>
        </bufferContainer>
        <threadDeclaration name="computationThread">
            <bufferContainer>
                <variableAllocation name="i" type="long"/>
                <variableAllocation name="j" type="long"/>
            </bufferContainer>
            <linearCodeContainer/>
            <forLoop>
                <userFunctionCall name="GenerateTimeSample"/>
                <CompoundCode name="ComputeFFT">
                    <subBufferAllocation index="32"
                        name="outLoopPort_0_inLo_0"
                        parentBuffer="virtual_heap" size="0" type="char"/>
                    <subBufferAllocation index="48"
                        name="out_cluster_0_trig_0"
                        parentBuffer="virtual_heap" size="8" type="char"/>
                    <userFunctionCall name="init_inLoopPort_0">
                        <subBuffer index="32"
                            name="outLoopPort_0_inLo_0"
                            parentBuffer="virtual_heap" size="0"/>
                        <constant name="init_size" type="int" value="16"/>
                    </userFunctionCall>
                    <userFunctionCall name="trigger"/>
                    <finiteForLoop domain="8" index="i">
                        <CompoundCode name="cluster_0">
                            <subBufferAllocation index="((i*1)%8)"
                                name="outSub_i_out_clust_0"
                                parentBuffer="out_cluster_0_trig_0"
                                size="1" type="char"/>
                            <subBufferAllocation index="88"
                                name="weights_W"
                                parentBuffer="virtual_heap" size="8" type="char"/>
                            <subBufferAllocation index="96"
                                name="dataOut_in"
                                parentBuffer="virtual_heap" size="16" type="char"/>
                            <subBufferAllocation index="64"
                                name="data2Out_data2In"
                                parentBuffer="virtual_heap" size="8" type="char"/>
                            <subBufferAllocation index="56"
                                name="data1Out_data1In"
                                parentBuffer="virtual_heap" size="8" type="char"/>
                            <subBufferAllocation index="72"
                                name="data1Out_data1In_0"
                                parentBuffer="virtual_heap" size="8" type="char"/>
                            <subBufferAllocation index="80"
                                name="data2Out_data2In_0"
                                parentBuffer="virtual_heap" size="8" type="char"/>
                            <userFunctionCall name="sortData">
                                <subBuffer index="0"
                                    name="dataOut_timeData"
                                    parentBuffer="virtual_heap" size="16"/>
                                <subBuffer index="32"
                                    name="outLoopPort_0_inLo_0"
                                    parentBuffer="virtual_heap" size="0"/>
                                <subBuffer index="((i*1)%8)"
                                    name="outSub_i_out_clust_0"
                                    parentBuffer="out_cluster_0_trig_0" size="1"/>
                                <subBuffer index="56"
                                    name="data1Out_data1In"
                                    parentBuffer="virtual_heap" size="8"/>
                                <subBuffer index="64"
                                    name="data2Out_data2In"
                                    parentBuffer="virtual_heap" size="8"/>
                                <subBuffer index="88" name="weights_W"
                                    parentBuffer="virtual_heap" size="8"/>
                                <constant name="size" type="int" value="16"/>
                            </userFunctionCall>
                            <finiteForLoop domain="8" index="j">
                                <CompoundCode name="butterflyStep">
                                    <subBufferAllocation
                                    index="((j*1)%8)"
                                    name="inSub_j_data1Out_d_0"
                                    parentBuffer="data1Out_data1In_0"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%8)"
                                    name="inSub_j_data2Out_d_0"
                                    parentBuffer="data2Out_data2In_0"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%8)"
                                    name="outSub_j_data1Out__0"
                                    parentBuffer="data1Out_data1In"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%8)"
                                    name="outSub_j_data2Out__0"
                                    parentBuffer="data2Out_data2In"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((j*1)%8)"
                                    name="outSub_j_weights_W"
                                    parentBuffer="weights_W"
                                    size="1" type="char"/>
                                    <subBufferAllocation index="112"
                                    name="res_in"
                                    parentBuffer="virtual_heap"
                                    size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((0*1)%1)" name="out_op2"
                                    parentBuffer="res_in" size="1" type="char"/>
                                    <subBufferAllocation
                                    index="((0*1)%1)"
                                    name="out_op2_0"
                                    parentBuffer="res_in" size="1" type="char"/>
                                    <userFunctionCall name="mult">
                                    <subBuffer index="((j*1)%8)"
                                    name="outSub_j_data2Out__0"
                                    parentBuffer="data2Out_data2In" size="1"/>
                                    <subBuffer index="((j*1)%8)"
                                    name="outSub_j_weights_W"
                                    parentBuffer="weights_W" size="1"/>
                                    <subBuffer index="112"
                                    name="res_in"
                                    parentBuffer="virtual_heap" size="1"/>
                                    </userFunctionCall>
                                    <userFunctionCall name="add">
                                    <subBuffer index="((j*1)%8)"
                                    name="outSub_j_data1Out__0"
                                    parentBuffer="data1Out_data1In" size="1"/>
                                    <subBuffer index="((0*1)%1)"
                                    name="out_op2"
                                    parentBuffer="res_in" size="1"/>
                                    <subBuffer index="((j*1)%8)"
                                    name="inSub_j_data1Out_d_0"
                                    parentBuffer="data1Out_data1In_0" size="1"/>
                                    </userFunctionCall>
                                    <userFunctionCall name="sub">
                                    <subBuffer index="((j*1)%8)"
                                    name="outSub_j_data1Out__0"
                                    parentBuffer="data1Out_data1In" size="1"/>
                                    <subBuffer index="((0*1)%1)"
                                    name="out_op2_0"
                                    parentBuffer="res_in" size="1"/>
                                    <subBuffer index="((j*1)%8)"
                                    name="inSub_j_data2Out_d_0"
                                    parentBuffer="data2Out_data2In_0" size="1"/>
                                    </userFunctionCall>
                                </CompoundCode>
                            </finiteForLoop>
                            <userFunctionCall name="collectData">
                                <subBuffer index="72"
                                    name="data1Out_data1In_0"
                                    parentBuffer="virtual_heap" size="8"/>
                                <subBuffer index="80"
                                    name="data2Out_data2In_0"
                                    parentBuffer="virtual_heap" size="8"/>
                                <subBuffer index="96" name="dataOut_in"
                                    parentBuffer="virtual_heap" size="16"/>
                                <constant name="size" type="int" value="16"/>
                            </userFunctionCall>
                            <CompoundCode name="brSamples">
                                <Assignment var="fftData_dataIn">&amp;dataOut_in[0]</Assignment>
                                <Assignment var="outLoopPort_0_inLo_0">&amp;dataOut_in[0]</Assignment>
                            </CompoundCode>
                        </CompoundCode>
                    </finiteForLoop>
                </CompoundCode>
                <userFunctionCall name="DisplayResult"/>
            </forLoop>
            <linearCodeContainer/>
        </threadDeclaration>
    </SourceFile>
</sourceCode>
